{% block messages %}
  {% for type, messages in message_list %}
    {%
      set classes = [
        'c-message',
        'c-message--' ~ type,
        'block',
        type = 'status' ? 'bg-green-500',
        type = 'warning' ? 'bg-yellow-500',
        type = 'error' ? 'bg-red-500',
      ]
    %}
    <div role="contentinfo" aria-label="{{ status_headings[type] }}"{{ attributes.addClass(classes)|without('role', 'aria-label') }}>
      <div class="o-wrapper">
        {% if type == 'error' %}
        <div role="alert">
          {% endif %}
          {% if status_headings[type] %}
            <h2 class="visually-hidden">{{ status_headings[type] }}</h2>
          {% endif %}
          {% if messages|length > 1 %}
            <ul class="c-messages__list">
              {% for message in messages %}
                <li class="c-messages__item">{{ message }}</li>
              {% endfor %}
            </ul>
          {% else %}
            {{ messages|first }}
          {% endif %}
          {% if type == 'error' %}
        </div>
        {% endif %}
      </div>
    </div>
    {# Remove type specific classes. #}
    {% set attributes = attributes.removeClass(classes) %}
  {% endfor %}
{% endblock messages %}
